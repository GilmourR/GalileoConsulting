---
title: "Hello Blog in R"
subtitle: "This is a test"
summary: "This shows how to run lm, tidy the output and format it for publication"

author: "Ross Gilmour"
date: "2020-05-28"
slug: rmarkdown-lm-tidyr-kable
categories: 
  - R
  - Rmarkdown
tags:
  - Rmarkdown
  - kable
---



<div id="fit-the-model" class="section level2">
<h2>Fit the model</h2>
<pre class="r"><code>lmfit &lt;- lm(mpg ~ wt, mtcars)
lmfit</code></pre>
<pre><code>## 
## Call:
## lm(formula = mpg ~ wt, data = mtcars)
## 
## Coefficients:
## (Intercept)           wt  
##      37.285       -5.344</code></pre>
</div>
<div id="cleanup-model-output-and-format-table" class="section level2">
<h2>Cleanup model output and format table</h2>
<p>Use broom’s tidy function to create a data frame of the model output and output that dataframe using knitr’s kable function:</p>
<pre class="r"><code>library(broom)        # tidyr
library(magrittr)     # %&gt;%

library(knitr)        # kable
library(kableExtra)   # kable_styling
tidy(lmfit) %&gt;% kable(format=&quot;latex&quot;,booktabs=TRUE,
                      caption=&quot;My table caption&quot;,digits=2) %&gt;% 
                kable_styling(latex_options = &quot;HOLD_position&quot;)</code></pre>

<p>Add longtable} to kable as required. For example: kable(longtable=TRUE, format=“latex”, booktabs=TRUE, caption=“My table caption”)</p>
</div>
